angular.module('thelinkedin',[]).provider('TheLinkedin',[function(){var options={};options.apiKey=null;this.setApiKey=function(apiKey){options.apiKey=apiKey;return this;};this.getApiKey=function(){return options.apiKey;};options.scopes='';this.setScopes=function(scopes){options.scopes=scopes;return this;};this.getScopes=function(){return options.scopes;};this.init=function(customOptions){angular.extend(options,customOptions);};this.$get=['$q','$rootScope','$timeout',function($q,$rootScope,$timeout){var deferred;var NgTheLinkedin=function(){};NgTheLinkedin.prototype.login=function(){var deferred=$q.defer();IN.User.authorize(function(){});if(!IN.User.isAuthorized()){IN.Event.on(IN,"auth",function(){IN.init({scope:options.scopes});IN.API.Profile("me").fields(["id","firstName","lastName","pictureUrl","publicProfileUrl","emailAddress","positions","educations"]).result(function(result){deferred.resolve(result.values[0]);}).error(function(err){$scope.$apply(function(){deferred.reject('error');});});});}else{IN.API.Profile("me").fields(["id","firstName","lastName","pictureUrl","publicProfileUrl"]).result(function(result){deferred.resolve(result.values[0]);}).error(function(err){$scope.$apply(function(){deferred.reject('error');});});};return deferred.promise;}
NgTheLinkedin.prototype.onLinkedInLoad=function(){IN.Event.on(IN,"auth",function(){onLinkedInLogin();});IN.Event.on(IN,"logout",function(){onLinkedInLogout();});}
NgTheLinkedin.prototype.onLinkedInLogout=function(){IN.User.logout();}
return new NgTheLinkedin();}];}]).run([function(TheLinkedin){var a=document.createElement("script");a.type="text/javascript",a.async=false,a.src="https://platform.linkedin.com/in.js?async=true";a.onload=function(){IN.init({api_key:'78zepwwf18dz09',authorize:true});};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}]);